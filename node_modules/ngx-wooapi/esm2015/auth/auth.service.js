/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { catchError } from 'rxjs/operators';
import { WoocommerceHelperService } from '../helper.service';
export class AuthService {
    /**
     * @param {?} httpClient
     * @param {?} wooHelper
     */
    constructor(httpClient, wooHelper) {
        this.httpClient = httpClient;
        this.wooHelper = wooHelper;
    }
    /**
     * @param {?} payload
     * @return {?}
     */
    createNonce(payload) {
        return this.httpClient.get(`api/get_nonce/`, { params: this.wooHelper.includeQuery(payload) })
            .pipe(catchError(err => this.wooHelper.handleError(err)));
    }
    /**
     * @param {?} registerData
     * @return {?}
     */
    register(registerData) {
        const /** @type {?} */ payload = this.wooHelper.includeEncoded(registerData);
        return this.httpClient.post(`api/user/register/`, payload)
            .pipe(catchError(err => this.wooHelper.handleError(err)));
    }
    /**
     * @param {?} username
     * @return {?}
     */
    retrivePassword(username) {
        const /** @type {?} */ payload = this.wooHelper.includeEncoded({ user_login: username });
        return this.httpClient.post(`api/user/retrieve_password/`, payload)
            .pipe(catchError(err => this.wooHelper.handleError(err)));
    }
    /**
     * @param {?} payload
     * @return {?}
     */
    getAuthToken(payload) {
        return this.httpClient.post(`wp-json/jwt-auth/v1/token`, payload)
            .pipe(catchError(err => this.wooHelper.handleError(err)));
    }
    /**
     * @param {?} data
     * @return {?}
     */
    generateAuthCookie(data) {
        return this.httpClient.post(`api/user/generate_auth_cookie/`, this.wooHelper.includeEncoded(data))
            .pipe(catchError(err => this.wooHelper.handleError(err)));
    }
}
AuthService.decorators = [
    { type: Injectable },
];
/** @nocollapse */
AuthService.ctorParameters = () => [
    { type: HttpClient, },
    { type: WoocommerceHelperService, },
];
function AuthService_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    AuthService.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    AuthService.ctorParameters;
    /** @type {?} */
    AuthService.prototype.httpClient;
    /** @type {?} */
    AuthService.prototype.wooHelper;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXV0aC5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LXdvb2FwaS8iLCJzb3VyY2VzIjpbImF1dGgvYXV0aC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFNUMsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFPN0QsTUFBTTs7Ozs7SUFFSixZQUNVLFlBQ0E7UUFEQSxlQUFVLEdBQVYsVUFBVTtRQUNWLGNBQVMsR0FBVCxTQUFTO0tBQ2Q7Ozs7O0lBRUwsV0FBVyxDQUFDLE9BQW9CO1FBQzlCLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsRUFBQyxDQUFDO2FBQ3pGLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDN0Q7Ozs7O0lBRUQsUUFBUSxDQUFDLFlBQTZCO1FBQ3BDLHVCQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1RCxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsT0FBTyxDQUFDO2FBQ3ZELElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDN0Q7Ozs7O0lBRUQsZUFBZSxDQUFDLFFBQWdCO1FBQzlCLHVCQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxFQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxPQUFPLENBQUM7YUFDaEUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM3RDs7Ozs7SUFFRCxZQUFZLENBQUMsT0FBcUI7UUFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLDJCQUEyQixFQUFFLE9BQU8sQ0FBQzthQUNoRSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzNEOzs7OztJQUVELGtCQUFrQixDQUFDLElBQWtCO1FBQ25DLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMvRixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzdEOzs7WUFqQ0YsVUFBVTs7OztZQVRGLFVBQVU7WUFHVix3QkFBd0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHsgV29vY29tbWVyY2VIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnLi4vaGVscGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ3JlYXRlTm9uY2UsIENyZWF0ZU5vbmNlUmVzLCBSZWdpc3RlclBheWxvYWQsIExvZ2luUGF5bG9hZCB9IGZyb20gJy4vYXV0aC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG4vLyBQbHVnaW5zIHVzZWQgaHR0cHM6Ly93b3JkcHJlc3Mub3JnL3BsdWdpbnMvanNvbi1hcGktdXNlci9cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEF1dGhTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsXG4gICAgcHJpdmF0ZSB3b29IZWxwZXI6IFdvb2NvbW1lcmNlSGVscGVyU2VydmljZVxuICApIHsgfVxuXG4gIGNyZWF0ZU5vbmNlKHBheWxvYWQ6IENyZWF0ZU5vbmNlKTogT2JzZXJ2YWJsZTxDcmVhdGVOb25jZVJlcz4ge1xuICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0KGBhcGkvZ2V0X25vbmNlL2AsIHtwYXJhbXM6IHRoaXMud29vSGVscGVyLmluY2x1ZGVRdWVyeShwYXlsb2FkKX0pXG4gICAgICAucGlwZShjYXRjaEVycm9yKGVyciA9PiB0aGlzLndvb0hlbHBlci5oYW5kbGVFcnJvcihlcnIpKSk7XG4gIH1cblxuICByZWdpc3RlcihyZWdpc3RlckRhdGE6IFJlZ2lzdGVyUGF5bG9hZCkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLndvb0hlbHBlci5pbmNsdWRlRW5jb2RlZChyZWdpc3RlckRhdGEpO1xuICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucG9zdChgYXBpL3VzZXIvcmVnaXN0ZXIvYCwgcGF5bG9hZClcbiAgICAgIC5waXBlKGNhdGNoRXJyb3IoZXJyID0+IHRoaXMud29vSGVscGVyLmhhbmRsZUVycm9yKGVycikpKTtcbiAgfVxuXG4gIHJldHJpdmVQYXNzd29yZCh1c2VybmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHRoaXMud29vSGVscGVyLmluY2x1ZGVFbmNvZGVkKHt1c2VyX2xvZ2luOiB1c2VybmFtZX0pO1xuICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQucG9zdChgYXBpL3VzZXIvcmV0cmlldmVfcGFzc3dvcmQvYCwgcGF5bG9hZClcbiAgICAgIC5waXBlKGNhdGNoRXJyb3IoZXJyID0+IHRoaXMud29vSGVscGVyLmhhbmRsZUVycm9yKGVycikpKTtcbiAgfVxuXG4gIGdldEF1dGhUb2tlbihwYXlsb2FkOiBMb2dpblBheWxvYWQpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LnBvc3QoYHdwLWpzb24vand0LWF1dGgvdjEvdG9rZW5gLCBwYXlsb2FkKVxuICAgIC5waXBlKGNhdGNoRXJyb3IoZXJyID0+IHRoaXMud29vSGVscGVyLmhhbmRsZUVycm9yKGVycikpKTtcbiAgfVxuXG4gIGdlbmVyYXRlQXV0aENvb2tpZShkYXRhOiBMb2dpblBheWxvYWQpIHtcbiAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LnBvc3QoYGFwaS91c2VyL2dlbmVyYXRlX2F1dGhfY29va2llL2AsIHRoaXMud29vSGVscGVyLmluY2x1ZGVFbmNvZGVkKGRhdGEpKVxuICAgICAgLnBpcGUoY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy53b29IZWxwZXIuaGFuZGxlRXJyb3IoZXJyKSkpO1xuICB9XG59XG4iXX0=